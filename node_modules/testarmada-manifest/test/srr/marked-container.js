/* eslint import/no-extraneous-dependencies: 0, no-undef: 0 */

const expect = require("chai").expect;
const MarkedContainer = require("../../src/srr/marked-container");

describe("MarkedContainer", () => {
  it("handle adding markers", () => {
    const mc = new MarkedContainer();
    mc.addMarker({t: 100, name: "foo"});
    expect(mc.markers.length).to.equal(1);
  });

  it("handle finding markers", () => {
    const mc = new MarkedContainer();
    mc.addMarker({t: 100, name: "foo"});
    expect(mc.getMarker("foo").t).to.equal(100);
  });

  it("handle calculating time", () => {
    const mc = new MarkedContainer();
    mc.addMarker({t: 100, name: "foo"});
    expect(mc.timeElapsed).to.equal(0);
    mc.addMarker({t: 300, name: "foo"});
    expect(mc.timeElapsed).to.equal(200);
  });

  it("handle bad insertion order", () => {
    const mc = new MarkedContainer();
    mc.addMarker({t: 300, name: "foo"});
    mc.addMarker({t: 100, name: "foo"});
    expect(mc.timeElapsed).to.equal(200);
  });
});
