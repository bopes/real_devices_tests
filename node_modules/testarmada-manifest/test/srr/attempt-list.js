/* eslint import/no-extraneous-dependencies: 0, no-undef: 0 */

const expect = require("chai").expect;
const AttemptList = require("../../src/srr/attempt-list");

describe("AttemptList", () => {
  it("handle an empty set", () => {
    const al = new AttemptList([]);
    expect(al.passed).to.equal(false);
    expect(al.failed).to.equal(true);
    expect(al.retries).to.equal(0);
  });

  it("handle a failing set", () => {
    const al = new AttemptList([{passed: false}]);
    expect(al.passed).to.equal(false);
    expect(al.failed).to.equal(true);
    expect(al.retries).to.equal(1);
  });

  it("handle a passing set", () => {
    const al = new AttemptList([{passed: true}]);
    expect(al.passed).to.equal(true);
    expect(al.failed).to.equal(false);
    expect(al.retries).to.equal(0);
  });

  it("handle a passing set with multiple retries", () => {
    const al = new AttemptList([{passed: false}, {passed: false}, {passed: true}]);
    expect(al.passed).to.equal(true);
    expect(al.failed).to.equal(false);
    expect(al.retries).to.equal(2);
  });
});
